<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendari - Hairplan</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

</head>

<body>
    <header class="bg-dark text-white text-center py-4">
        <h1>Calendari</h1>
    </header>

    <main class="container mt-5">
        <div id="calendarContainer" class="row">
            <!-- Card per creare un nuovo calendario -->
            <div class="col-md-4 mb-4">
                <div class="card text-center">
                    <div class="card-body">
                        <h5 class="card-title">Crea Calendario</h5>
                        <p class="card-text">Clicca qui per creare un nuovo calendario.</p>
                        <a href="crea_calendario.html" class="btn btn-primary">Crea</a>
                    </div>
                </div>
            </div>

            <!-- Le card dei calendari verranno generate qui -->
        </div>
    </main>

    <footer class="bg-dark text-white text-center py-4 mt-5">
        <p>&copy; 2024 Hairplan. Tutti i diritti riservati.</p>
    </footer>

    <script>
        async function loadCalendars() {
            try {
                const response = await fetch('http://localhost:3000/calendari'); // Modifica l'URL se necessario
                const calendars = await response.json();

                const calendarContainer = document.getElementById('calendarContainer');
                calendarContainer.innerHTML = ''; // Pulisci il contenitore

                calendars.forEach(calendar => {
                    const card = document.createElement('div');
                    card.classList.add('col-md-4', 'mb-4');
                    card.innerHTML = `
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">${calendar.nome}</h5>
                                <p class="card-text">Dettagli: ${calendar.dettagli}</p>
                                <a href="#" class="btn btn-primary">Vedi dettagli</a>
                            </div>
                        </div>
                    `;
                    calendarContainer.appendChild(card);
                });
            } catch (error) {
                console.error('Errore nel caricamento dei calendari:', error);
            }
        }

        // Carica i calendari quando la pagina viene caricata
        window.onload = loadCalendars;
    </script>
        <style>
            /* CSS per il footer sempre in fondo */
            html,
            body {
                height: 100%;
                margin: 0;
            }
    
            body {
                display: block;
                /* Cambiato da flex a block */
            }
    
            main {
                min-height: calc(100vh - 100px);
                /* Sostituisci 100px con l'altezza del tuo footer + header */
            }
    
            footer {
                position: fixed;
                /* Puoi cambiarlo in 'fixed' se vuoi che rimanga visibile */
                bottom: 0;
                /* Assicura che il footer si posizioni in fondo */
                width: 100%;
            }
        </style>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
